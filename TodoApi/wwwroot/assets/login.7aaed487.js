import{g as h,i as b,E as w,C as _,o as v,e as y,f as a,t as n,u as e,h as o}from"./vendor.8a5c162a.js";import{u as S}from"./main.9dd7bdd9.js";import{c as k,a as c,u as E,F as d,E as m}from"./object.01f07b72.js";const j={class:"mx-auto min-w-xs max-w-xs py-6 prose"},D={class:"flex flex-col"},B={class:"flex flex-col"},F={type:"submit",class:"mt-2 hover w-19 bg-red-900 dark:bg-teal-700 dark:text-light-50 text-yellow-300 rounded-2xl mx-auto"},N=h({setup(M){const{t}=b(),s=S(),u=k({email:c().required().email(),password:c().required().min(8)}),{handleSubmit:p,values:f}=E({validationSchema:u});w(f,r=>{s.$patch({loginData:r})});const l=p(async()=>{s.getLoginData?(await s.loginUser(s.getLoginData),s.getToken!==null&&g.replace({name:"myTodos"})):console.error("login failed, could't retrieve login data")}),g=_();return(r,i)=>(v(),y("div",j,[a("h2",null,n(e(t)("page.login")),1),a("form",{onSubmit:i[0]||(i[0]=(...x)=>e(l)&&e(l)(...x)),class:"flex flex-col"},[a("div",D,[o(e(d),{name:"email",type:"email",placeholder:"Email",class:"field"}),o(e(m),{name:"email",class:"errorMessage"})]),a("div",B,[o(e(d),{name:"password",type:"password",placeholder:e(t)("text.password"),title:e(t)("text.password"),class:"field"},null,8,["placeholder","title"]),o(e(m),{name:"password",class:"errorMessage"})]),a("button",F,n(e(t)("button.submit")),1)],32)]))}});export{N as default};
